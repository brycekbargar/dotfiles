---
- name: Sync and update ports
  become: true
  community.general.macports:
    selfupdate: true
    upgrade: true
  when: macports_base.changed or macports_ports.changed

- name: Install/replace macos tools
  become: true
  community.general.macports:
    name:
      - zsh
      - bash
      - git
      - gutils-suite
      - less
      - unzip
      - vim
    state: installed
